(()=>{"use strict";const e=!0===window.matchMedia("(prefers-reduced-motion: reduce)")||!0===window.matchMedia("(prefers-reduced-motion: reduce)").matches;window.location.href.includes("webflow.io");const t=(e,t)=>{const{addClass:n,removeClass:o,action:i,timeout:r}=t;return new Promise((t=>{const c=n=>{n&&n.target!==e||(e.removeEventListener("transitionend",c),t(e))};if(r?setTimeout((()=>{c()}),r):e.addEventListener("transitionend",c),i)return i(e);n&&e.classList.add(n),o&&e.classList.remove(o)}))};!function(){const e=[],n=[...document.querySelectorAll(".portfolioswitchitem")].reduce(((t,n)=>{const o=n.getAttribute("href").replace("#","");return t[o]=n,e.push(o),t}),{}),o=[...document.querySelectorAll(".portfoliocategory")].reduce(((e,t)=>(e[t.dataset.portfolioCategory]=t,e)),{});let i=e[0],r=!1;function c(e){!function(e){n[i].classList.remove("active"),n[e].classList.add("active")}(e),function(e){r=!0,t(o[i],{addClass:"fading"}).then((t=>{t.classList.add("hidden"),o[e].classList.remove("preparing"),t.classList.remove("fading"),i=e,r=!1})),o[e].classList.add("preparing"),o[e].classList.remove("hidden")}(e)}!function(){const{hash:t}=window.location;if(!t)return;const n=t.replace("#",""),o=e.find((e=>e===n));i!==o&&c(o??e[0])}(),Object.entries(n).forEach((([e,t])=>{t.addEventListener("click",(()=>!r&&c(e)))}))}(),function(){const e=document.querySelector(".imagepopup");if(!e)return;const n=e.querySelector(".imagepopupclosebutton"),o=e.querySelector(".imagepopupbutton.next"),i=e.querySelector(".imagepopupbutton.prev"),r=e.querySelector(".imagepopupimage");let c,s;function d(e){return"ArrowRight"===e.key?u():"ArrowLeft"===e.key?l():void 0}function a(e){c=e,r.setAttribute("src",s[e])}function u(){a(c<s.length-1?c+1:0)}function l(){a(c>0?c-1:s.length-1)}o.addEventListener("click",u),i.addEventListener("click",l),n.addEventListener("click",(function(){c=0,s=[],t(e,{removeClass:"visible"}).then((e=>{e.classList.remove("shown"),document.documentElement.classList.remove("popup-opened")})),document.removeEventListener("keydown",d)})),document.querySelectorAll(".portfoliocategory").forEach((function(n){const o=n.querySelectorAll(".portfolioimage"),i=[...o].map((e=>e.getAttribute("src")));o.forEach(((n,o)=>{n.addEventListener("click",(()=>{document.documentElement.clientWidth<500||function(n,o){c=n,s=o,a(n),t(e,{addClass:"shown",timeout:5}).then((e=>e.classList.add("visible"))),document.documentElement.classList.add("popup-opened"),document.addEventListener("keydown",d)}(o,i)}))}))}))}(),function(){if(e)return;const t=15,n=1+2*t/100,o=new IntersectionObserver((function(e){return e.forEach((e=>{const{isIntersecting:n,target:o,boundingClientRect:{bottom:i,height:c}}=e;n?(r.add(o),a(o,s(i,c))):(r.delete(o),a(o,i<0?t:0))})),r.size>0&&!c?(document.addEventListener("scroll",d),void(c=!0)):0===r.size&&c?(document.removeEventListener("scroll",d),void(c=!1)):void 0})),i=document.querySelectorAll('[data-animation="parallax"], .portfolioimage'),r=new Set([]);let c=!1;function s(e,n){const o=document.documentElement.clientHeight,i=1+t*(e/(o+n));return Math.round(1e3*(i+Number.EPSILON))/1e3}function d(){r.forEach((e=>{const{bottom:t,height:n}=e.getBoundingClientRect();a(e,s(t,n))}))}function a(e,t){e.style.setProperty("--shift",t)}i.forEach((e=>{e.style.setProperty("--zoom",n),o.observe(e)})),window.addEventListener("load",d)}()})();